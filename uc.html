<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no" />
    <title>purchase-uc</title>
    <link rel="stylesheet" href="/assets/css/uc.css">
    <link rel="stylesheet" href="assets/css/main.css">
    <link rel="stylesheet" href="chat-bot.css">
    <link rel="stylesheet" href="discount-popup.css">

    <script type="text/javascript"
        src="https://cdn.jsdelivr.net/npm/@emailjs/browser@4/dist/email.min.js">
	</script>
</head>
<body>
    <!-- Header -->
    <div id="header-wrapper">
        <header id="header" class="container">

            <!-- Logo -->
                <div id="logo">
                    <h1><a href="index.html">Prince</a></h1>
                    <span>Beta Version</span>
                </div>

            <!-- Nav -->
                <nav id="nav">
                    <ul>
                        <li><a href="index.html">Home</a></li>
                        <li class="current"><a href="uc.html">Purchase UC</a></li>
                        <li><a href="right-sidebar.html">Support PRINCE</a></li>
                        <li><a href="about.html">About</a></li>
                    </ul>
                </nav>

        </header>
    </div>


    <div class="container">
        <div class="header">
            <img src="images/PUBG_MOBILE_LOGO.png" alt="PUBG Mobile Logo">
            <div class="info">
                <h1>PUBG MOBILE (GLOBAL)</h1>
                <p>Delivery: Instant Top-Up | Sales Volume: 50k+ | PRINCE</p>
                <p>⭐⭐⭐⭐⭐ 5.0 (300+ ratings)</p>
            </div>
        </div>
        <div class="container-inner">
            <div class="product-cards">
                <div class="product-card" data-price="100">
                    <img src="images/UC_01.webp" alt="UC Icon">
                    <h2>60 UC</h2>
                    <p> <span class="price"></span></p>
                </div>
                <div class="product-card" data-price="200">
                    <img src="images/UC_01.webp" alt="UC Icon">
                    <h2>120 UC</h2>
                    <p> <span class="price"></span></p>
                </div>
                <div class="product-card" data-price="440">
                    <img src="images/UC_01.webp" alt="UC Icon">
                    <h2>300 UC (25 Free)</h2>
                    <p> <span class="price"></span></p>
                </div>
                <div class="product-card" data-price="540">
                    <img src="images/UC_01.webp" alt="UC Icon">
                    <h2>360 UC (25 Free)</h2>
                    <p> <span class="price"></span></p>
                </div>
                <div class="product-card" data-price="850">
                    <img src="images/UC_01.webp" alt="UC Icon">
                    <h2>600 UC (60 Free)</h2>
                    <p> <span class="price"></span></p>
                </div>
                <div class="product-card" data-price="950">
                    <img src="images/UC_01.webp" alt="UC Icon">
                    <h2>720 UC</h2>
                    <p> <span class="price"></span></p>
                </div>
            </div>

            <div class="right-count">
                <div class="summary-container"> 
                    <h2>Calculate Your Budget (in BTN)</h2>
                    <p id="selected-item">No item selected</p>
                    <div class="quantity-controls">
                        <button class="decrease">-</button>
                        <span class="quantity">1</span>
                        <button class="increase">+</button>
                    </div>
                    <p id="summary-price">Price <span id="total-price">BTN 0</span></p>
    
                    <span class="savings-price"> Discount Details
                        <img onclick="showModal()" src="images/arrow-right.png" alt="arrow-button">
                    </span>
                    <div class="request">
                        <a href="https://www.facebook.com/princecreation.bubu/"><button type="button" id="summary-submit-btn">Chat With Me</button></a>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Chatbot Trigger Icon -->
    <div id="chatbot-icon">
        <img src="images/bot.png" alt="Chat-Icon" />
    </div>

    <!-- Chatbot UI -->
    <div id="chatbot" class="hidden">
        <div id="chat-header">
            Chat with Me!
            <button id="close-btn">&times;</button>
        </div>
        <div id="chat-body">
            <div id="messages" class="chat-messages"></div>
            <div id="typing-indicator">
                <span>...</span>
            </div>
        </div>
        <div id="chat-footer">
            <input type="text" id="user-input" placeholder="Type your message..." />
            <button id="send-btn">Send</button>
        </div>
    </div>

    <div class="overlay" id="overlay" onclick="closeModal()"></div>

    <div class="discount-modal" id="discountModal">
        <button class="close-btn" onclick="closeModal()">&times;</button>
        <h2>Discount Details</h2>
        <p><span class="label">Original Price</span><span class="original-price" id="originalPrice">BTN 4.99</span></p>
        <p><span class="label">Current Price</span><span class="current-price" id="currentPrice">BTN 0.00</span></p>
        <p id="current"><span class="label">Official Discount</span><span class="discount" id="discount">BTN 0.64</span></p>
    </div>

    <!-- Footer -->
    <div id="footer-wrapper">
        <footer id="footer" class="container">
            <div class="row">
                <div class="col-3 col-6-medium col-12-small">

                    <!-- Links -->
                        <section class="widget links">
                            <h3>About</h3>
                            <p>PRINCE - dynamic gaming creator known for his exciting live hosting and gaming.
                            </p>
                        </section>

                </div>
                <div class="col-3 col-6-medium col-12-small">

                    <!-- Links -->
                    <section class="widget links">
                        <h3>Quick Visit</h3>
                        <ul class="style2">
                            <li><a href="index.html">Home</a></li>
                            <li><a href="uc.html">Purchase UC</a></li>
                            <li><a href="right-sidebar.html">Support PRINCE</a></li>
                            <li><a href="about.html">About</a></li>
                        </ul>
                    </section>

                </div>
                <div class="col-3 col-6-medium col-12-small">

                    <!-- Links -->
                        <section class="widget links">
                            <h3>Contact</h3>
                            <p>Babesa, Thimphu, Bhutan<br />
                                princegaming.bhutan@gmail.com<br />
                                +975 17313672</p>
                        </section>

                </div>
                <div class="col-3 col-6-medium col-12-small">

                    <!-- Contact -->
                        <section class="widget contact last">
                            <h3>Social Links</h3>
                            <ul>
                                <li><a href="https://www.tiktok.com/@prince.bubu" class="icon brands fa-tiktok"><span class="label">TikTok</span></a></li>
                                <li><a href="https://www.facebook.com/princecreation.bubu" class="icon brands fa-facebook-f"><span class="label">Facebook</span></a></li>
                                <li><a href="https://www.instagram.com/prince.insta.bubu/" class="icon brands fa-instagram"><span class="label">Instagram</span></a></li>
                                <li><a href="https://www.youtube.com/@prince.bubuYT" class="icon brands fa-youtube"><span class="label">YouTube</span></a></li>
                            </ul>
                        </section>
                </div>
            </div>
            <div class="row">
                <div class="col-12">
                    <div id="copyright">
                        <ul class="menu">
                            <li>&copy; 2025 prince. All rights reserved</li>
                        </ul>
                    </div>
                </div>
            </div>
        </footer>
    </div>

    <script>
        const emailInput = document.getElementById('email');
        const emailError = document.getElementById('email-error');
    
        // Function to validate email
        emailInput.addEventListener('input', () => {
            const emailPattern = /^[^\s@]+@[^\s@]+\.[^\s@]+$/; // Basic email regex
            if (emailInput.value === '') {
                emailInput.classList.remove('valid', 'invalid');
                emailError.style.display = 'none';
            } else if (emailPattern.test(emailInput.value)) {
                emailInput.classList.add('valid');
                emailInput.classList.remove('invalid');
                emailError.style.display = 'none';
            } else {
                emailInput.classList.add('invalid');
                emailInput.classList.remove('valid');
                emailError.style.display = 'block';
            }
        });
    
        // Form submission validation
        const form = document.querySelector('form'); // Replace with your form's selector
        if (form) {
            form.addEventListener('submit', (e) => {
                if (!emailInput.checkValidity() || emailInput.classList.contains('invalid')) {
                    e.preventDefault();
                    emailError.style.display = 'block';
                    emailInput.focus();
                }
            });
        }
    </script>

<script>
    const chatbotIcon = document.getElementById('chatbot-icon');
    const chatbot = document.getElementById('chatbot');
    const closeBtn = document.getElementById('close-btn');
    const sendBtn = document.getElementById('send-btn');
    const userInput = document.getElementById('user-input');
    const messages = document.getElementById('messages');
    const typingIndicator = document.getElementById('typing-indicator');
    let isChatOpened = false; // Track if the chat is opened for the first time

    // Hide chatbot icon initially
    chatbotIcon.style.display = 'none';

    // Show chatbot icon after 5 seconds
    setTimeout(() => {
        chatbotIcon.style.display = 'flex';
    }, 5000);

    // Toggle Chatbot
    chatbotIcon.addEventListener('click', () => {
        chatbot.classList.remove('hidden');
        if (!isChatOpened) {
            displayTypingIndicator(true); // Show typing animation
            setTimeout(sendGreetingMessage, 5000); // Send greeting message after 5 seconds
            isChatOpened = true;
        }
    });

    closeBtn.addEventListener('click', () => {
        chatbot.classList.add('hidden');
    });

    // Send Message
    sendBtn.addEventListener('click', handleSendMessage);
    userInput.addEventListener('keydown', (e) => {
        if (e.key === 'Enter') handleSendMessage();
    });

    function handleSendMessage() {
        const message = userInput.value.trim();
        if (!message) return;

        displayMessage(message, 'user-message');

        displayTypingIndicator(true);
        setTimeout(() => {
            const botResponse = getBotResponse(message);
            displayMessage(botResponse, 'bot-message');
            displayTypingIndicator(false);
        }, 1000);

        userInput.value = '';
    }

    function displayMessage(message, className) {
        const messageDiv = document.createElement('div');
        messageDiv.textContent = message;
        messageDiv.className = className;
        messages.appendChild(messageDiv);
        messages.scrollTop = messages.scrollHeight;
    }

    function displayTypingIndicator(show) {
        if (show) {
            typingIndicator.style.display = 'block';
            animateTypingIndicator();
        } else {
            typingIndicator.style.display = 'none';
        }
    }

    function animateTypingIndicator() {
        let dots = '';
        const interval = setInterval(() => {
            dots = dots.length < 3 ? dots + '.' : '';
            typingIndicator.textContent = `Typing${dots}`;
        }, 500);

        // Stop animation when typing indicator is hidden
        typingIndicator.addEventListener('DOMSubtreeModified', () => {
            if (typingIndicator.style.display === 'none') clearInterval(interval);
        });
    }

    function sendGreetingMessage() {
        displayMessage('Hello! How can I assist you today?', 'bot-message');
        displayTypingIndicator(false); // Hide typing animation
    }

    function getBotResponse(userMessage) {
        const responses = {
            hello: 'Hi there! How can I assist you today?',
            help: 'Sure, let me know how I can help!',
            thanks: 'You’re welcome! Anything else I can assist with?',
            bye: 'Goodbye! Have a great day!',
        };

        return responses[userMessage.toLowerCase()] || "I'm sorry, I didn’t quite catch that. Could you rephrase?";
    }
</script>

<script>
    // Select all product-card elements
    const productCards = document.querySelectorAll('.product-card');

    // Loop through each product card
    productCards.forEach(card => {
        // Get the price from the data-price attribute
        const price = card.getAttribute('data-price');

        // Update the span with the class 'price' to display the price
        const priceSpan = card.querySelector('.price');
        priceSpan.textContent = `BTN ${price}`;
    });
</script>

<script src="order-summary.js"></script>
<script src="discount-price.js"></script>

</body>
</html>
